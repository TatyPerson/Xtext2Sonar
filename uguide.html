<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Xtext2Sonar by TatyPerson</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Xtext2Sonar</h1>
      <h2 class="project-tagline">This project performs the transformation of DSL grammar defined with the Xtext format to the grammar used for the SonarQube platform. This transformation is based on M2T approach.</h2>
      <a href="index.html" class="btn">Features</a>
      <a href="setup.html" class="btn">Setup manual</a>
      <a class="btn" disabled>User's guide</a>
      <a href="dguide.html" class="btn">Developer's guide</a>
      <a href="about.html" class="btn">About Xtext2Sonar Project</a>
      <br><br>
      <a href="https://github.com/TatyPerson/Xtext2Sonar" class="btn">View on GitHub</a>
      <a href="https://github.com/TatyPerson/Xtext2Sonar/zipball/master" class="btn">Download plug-in for Eclipse</a>
    </section>

    <section class="main-content">

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>User's guide</strong>
</h2>

<HR width=100% align="center">
 
<h3>
<a id="user-content-performing-transformation" class="anchor" href="#performing-transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Performing transformation</h3>

<p><strong>1.</strong> First, you must open the Eclipse version with Xtext2Sonar plugin integrated.</p>
  
<p><strong>2.</strong> Later, you must add the following sentence in the .mwe2 file of your Xtext project:</p>

<div align="center"><img src="http://wikis.uca.es/wikiPLII/images/b/be/Xmi_mwe2.png" height="80%" width="80%"></div>

<p><strong>3.</strong> After performing the previous step and run the mwe2 file, we get a new .xmi file in the src-gen project folder.</p>

<p><strong>4.</strong> Then, we right click the .xml file and choose the "Acceleo Model to Text > Generate SonarQube Plugin" option.</p>

Posteriormente, obtendremos 5 nuevos proyectos en nuestro workspace.

En un inicio, los proyectos contendrán errores de compilación, ya que no se descargan las dependencias de Maven correctamente, para solucionarlos se debe hacer clic derecho en alguno de ellos y seleccionar la opción: Maven > Update project.

Seguidamente, debemos dirigirnos al workspace y debemos copiar los proyectos terminados en: -plugin, -toolkit, -checks y -squid dentro del proyecto restante. A continuación, desde la terminal debemos situarnos en el proyecto donde acabamos de realizar la copia de los demás y realizar el siguiente comando: mvn package. Este comando generará un archivo .jar dentro del directorio target del proyecto finalizado en -plugin.

Posteriormente, debemos copiar el fichero .jar obtenido en el directorio "plugins" de SonarQube.

A continuación, desde la terminal debemos lanzar la ejecución del servidor de SonarQube mediante el siguiente comando: sonar start. Y seguidamente, debemos ejecutar la orden "sonar-runner" en el directorio del proyecto que queremos analizar. En este caso, analizaremos un fichero del plugin correspondiente al DSL que se ha utilizado como prueba para la transformación.

Finalmente, accediendo a localhost:9000, podremos visualizar la interfaz de la web de SonarQube y observaremos el proyecto analizado.

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/TatyPerson/Xtext2Sonar">Xtext2Sonar</a> is maintained by <a href="https://github.com/TatyPerson">TatyPerson</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
